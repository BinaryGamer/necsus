<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Neccsus</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <link rel="stylesheet" type="text/css" href="client/neccsus.css">
  </head>

  <body>
    <div id="neccsus">
      <div id="header-space">
      </div>

      <header>
        <div id="title">
          <h1 id="main-title">neccsus</h1>
          <h2 id="room">{{ room }}</h2>
        </div>
      </header>

      <div id="controls">
        <button v-on:click="settings.open = !settings.open" v-text="settings.open ? 'close settings' : 'open settings'"></button>
      </div>

      <div id="settings" v-bind:class="{open: settings.open, closed: !settings.open}">
        <section>
          <h3>Main</h3>

          <label for="name">Name</label>
          <input id="name" name="name" v-bind:value="settings.name">

          <label for="speech">Speech synthesis</label>
          <input id="speech" name="speech" type="checkbox" v-bind:checked="settings.speech">
        </section>

        <section>
          <h3>Bots</h3>

          <section v-for="bot in settings.bots">
            <label for="bot-name">Name</label>
            <input id="bot-name" name="bot-name" v-bind:value="bot.name">

            <label for="bot-url">Endpoint URL</label>
            <input id="bot-url" name="bot-url" v-bind:value="bot.url">

            <button>remove bot</button>
          </section>

          <button>add bot</button>
        </section>
      </div>

      <section id="messages">
        <div id="messages-list">
          <div id="messages-spacer"></div>
          <article class="message" v-for="message in messages">
            <h4 class="author">{{ message.author }}</h4>
            <div>
              {{ message.text }}
            </div>
          </article>
        </div>

        <div id="new-message">
          <textarea id="message-input" v-model="newMessage" v-bind="{placeholder: 'Message '+ room}" v-bind:rows="rows()"></textarea>
          <button @click="listen()">listen</button>
          <button>submit</button>
        </div>
      </section>
    </div>

    <script src="client/neccsus.js"></script>
  </body>
</html>
